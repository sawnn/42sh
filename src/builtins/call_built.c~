/*
** EPITECH PROJECT, 2018
** 42sh
** File description:
** call
*/

#include "../../include/my_sh.h"

int	call_builtins(int i, t_mini *mini, node **head)
{
	int	(*fptr[5])(t_mini *, node **);

	fptr[0] = my_call_env;
	fptr[1] = my_call_setenv;
	fptr[2] = my_call_unsetenv;
	fptr[3] = my_call_cd;
	fptr[4] = NULL;
	return ((*fptr[i])(mini, head));
}

int	is_builtins(t_mini *mini, node **head)
{
	char	*built[5] = {"env", "setenv", "unsetenv", "cd", NULL};
	int	i = 0;

	while (built[i] != NULL) {
		if (my_strcmp(mini->tab[0], built[i]) == 0)
			return (call_builtins(i, mini, head));
		i += 1;
	}
	return (mini->global = -1);
}
